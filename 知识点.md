## iOS启动流程

### main函数之前

1、加载可执行文件（App的.o文件集合）

2、加载动态链接库，进行rebase指针调整和bind符号绑定

3、Objc运行时的初始处理，包括Objc相关类的注册，category注册，selector唯一性检查

4、初始化，包括执行+load()、attribute(constructor)修饰的函数的调用、创建C++静态全局变量

### main函数执行后

1、首页初始化所需要配置文件的读写操作

2、首屏列表大数据的读取

3、首屏渲染的大量计算

### 首屏渲染完成

1、其它业务基础功能初始化

2、其他业务服务初始化

3、监听注册



我们知道由Swift编写的程序最终会被编译成二进制，这些二进制需要跟系统库（Swift运行时库）进行交互，因为系统库是要供很多应用使用的，为了兼顾各个应用的调用，它需要一套规范，这个规范就是ABI（Application Binary Interface）。ABI稳定是指把ABI锁定在某种形式，以至于未来的编译器都可以生成遵从这种形式的二进制实体（可以是程序库，也可以是应用程序）。

ABI稳定需要解决一些问题，例如，`struct`的大小作为ABI的一部分是固定的，并且在编译时为库用户所知。一旦声明ABI稳定，这将防止在以后的版本中向该类型添加新字段。如果允许直接访问字段，则结构的布局也可以成为ABI的一部分，因此无法重新排序字段。enum也面临相同的问题，在之后的Swift版本中添加新的枚举实例有时意味着增加枚举所需的存储量，这可能会影响枚举的大小和布局，就像向`struct`中添加字段一样。

为了解决这个问题Swift编译器新增了一个